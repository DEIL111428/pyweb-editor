/* Базовые стили для скроллбара */
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: #1a1a1a; }
::-webkit-scrollbar-thumb { background: #333; border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: #444; }

/* Кастомные классы для кнопок и слайдеров */
.btn-header {
    background-color: #222;
    color: #d1d5db; 
    padding: 0.375rem 0.75rem;
    border-radius: 0.25rem;
    font-size: 0.75rem;
    font-weight: 500;
    border: 1px solid #333;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.2s;
}
.btn-header:hover { background-color: #333; }

.btn-primary {
    background-color: #2563eb; 
    color: white;
    padding: 0.375rem 0.75rem;
    border-radius: 0.25rem;
    font-size: 0.75rem;
    font-weight: 500;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.2s;
}
.btn-primary:hover { background-color: #1d4ed8; } 
.btn-primary:disabled { opacity: 0.5; cursor: not-allowed; }

.btn-history {
    flex: 1;
    background-color: #222;
    color: #9ca3af; 
    padding: 0.5rem;
    border-radius: 0.25rem;
    font-size: 0.75rem;
    transition: all 0.2s;
}
.btn-history:hover { background-color: #333; color: white; }
.btn-history:disabled { opacity: 0.3; }

.btn-tool {
    background-color: #1f1f1f;
    color: #d1d5db;
    padding: 0.5rem;
    border-radius: 0.25rem;
    font-size: 0.875rem;
    transition: all 0.2s;
}
.btn-tool:hover { background-color: #2a2a2a; }

.panel-section { border-bottom: 1px solid #222; padding: 1.25rem; }
.panel-title { 
    font-size: 0.75rem; 
    font-weight: 700; 
    color: #666; 
    text-transform: uppercase; 
    letter-spacing: 0.05em; 
    margin-bottom: 1rem; 
    display: flex; 
    align-items: center; 
    gap: 0.5rem; 
}

/* Слайдеры */
.range-slider {
    -webkit-appearance: none; width: 100%; background: transparent; height: 24px; cursor: pointer;
}
.range-slider::-webkit-slider-runnable-track {
    width: 100%; height: 4px; background: #333; border-radius: 2px; transition: background 0.2s;
}
.range-slider:hover::-webkit-slider-runnable-track { background: #444; }
.range-slider::-webkit-slider-thumb {
    -webkit-appearance: none; height: 16px; width: 16px; border-radius: 50%; 
    background: #3b82f6; margin-top: -6px; 
    box-shadow: 0 2px 4px rgba(0,0,0,0.5); transition: transform 0.1s;
}
.range-slider:active::-webkit-slider-thumb { transform: scale(1.2); background: #60a5fa; }

/* Фон канваса */
.canvas-bg {
    background-color: #181818;
    background-image: linear-gradient(45deg, #222 25%, transparent 25%), 
                      linear-gradient(-45deg, #222 25%, transparent 25%), 
                      linear-gradient(45deg, transparent 75%, #222 75%), 
                      linear-gradient(-45deg, transparent 75%, #222 75%);
    background-size: 24px 24px; 
    background-position: 0 0, 0 12px, 12px -12px, -12px 0px;
}

/* Модальное окно */
.modal { display: none; position: fixed; z-index: 100; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.7); backdrop-filter: blur(5px); }
.modal-content { background-color: #1f1f1f; margin: 15% auto; padding: 25px; border: 1px solid #333; width: 320px; border-radius: 12px; text-align: center; box-shadow: 0 10px 25px rgba(0,0,0,0.5); animation: fadeIn 0.3s; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }
.author-tag { font-weight: 500; background-color: #2a2a2a; padding: 0.5rem; border-radius: 0.25rem; }

.loader { width: 48px; height: 48px; border: 5px solid #FFF; border-bottom-color: #3b82f6; border-radius: 50%; display: none; box-sizing: border-box; animation: rotation 1s linear infinite; }
@keyframes rotation { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }